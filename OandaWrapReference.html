<html><head><title>OandaWrap REST API</title></head><body><pre>
<h1>OANDAWRAP</h1>
Copyright 2014 William Whitty
Tavurth@gmail.com

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</pre><br><pre>
	<b>OANDAWRAP API WRAPPER FOR OANDAS 'REST'</b>
	Written by William Whitty July 2014
	Questions, comments or bug reports?
		Tavurth@gmail.com
	
	I am in no way responsible for any of your losses incurred
	while trading forex. 
	I take my trades off the table if they become losers.
		
		Best,
			
			Tavurth
	</pre><pre><b>Function Index:</b><br><b><i> format_string&nbsp&nbsp</i></b>
<br><b><i> format&nbsp&nbsp</i></b>
<br><b><i> setup&nbsp&nbsp</i></b>
<br><b><i> account&nbsp&nbsp</i></b>
<br><b><i> accounts&nbsp&nbsp</i></b>
<br><b><i> account_id&nbsp&nbsp</i></b>
<br><b><i> account_named&nbsp&nbsp</i></b>
<br><b><i> instruments&nbsp&nbsp</i></b>
<br><b><i> instrument&nbsp&nbsp</i></b>
<br><b><i> instrument_pairs&nbsp&nbsp</i></b>
<br><b><i> instrument_name&nbsp&nbsp</i></b>
<br><b><i> instrument_split&nbsp&nbsp</i></b>
<br><b><i> instrument_pip&nbsp&nbsp</i></b>
<br><b><i> convert&nbsp&nbsp</i></b>
<br><b><i> convert_pair&nbsp&nbsp</i></b>
<br><b><i> calc_pips&nbsp&nbsp</i></b>
<br><b><i> calc_pip_price&nbsp&nbsp</i></b>
<br><b><i> nav_account_set&nbsp&nbsp</i></b>
<br><b><i> nav_account&nbsp&nbsp</i></b>
<br><b><i> nav_instrument_name&nbsp&nbsp</i></b>
<br><b><i> nav_size_percent&nbsp&nbsp</i></b>
<br><b><i> nav_size_percent_per_pip&nbsp&nbsp</i></b>
<br><b><i> nav_pnl&nbsp&nbsp</i></b>
<br><b><i> transaction&nbsp&nbsp</i></b>
<br><b><i> transactions&nbsp&nbsp</i></b>
<br><b><i> transactions_types&nbsp&nbsp</i></b>
<br><b><i> transactions_type&nbsp&nbsp</i></b>
<br><b><i> time_seconds&nbsp&nbsp</i></b>
<br><b><i> gran_seconds&nbsp&nbsp</i></b>
<br><b><i> expiry&nbsp&nbsp</i></b>
<br><b><i> expiry_min&nbsp&nbsp</i></b>
<br><b><i> expiry_hour&nbsp&nbsp</i></b>
<br><b><i> expiry_day&nbsp&nbsp</i></b>
<br><b><i> set_stop&nbsp&nbsp</i></b>
<br><b><i> set_tp&nbsp&nbsp</i></b>
<br><b><i> set_trailing_stop&nbsp&nbsp</i></b>
<br><b><i> order&nbsp&nbsp</i></b>
<br><b><i> order_pair&nbsp&nbsp</i></b>
<br><b><i> order_open&nbsp&nbsp</i></b>
<br><b><i> order_close&nbsp&nbsp</i></b>
<br><b><i> order_close_all&nbsp&nbsp</i></b>
<br><b><i> order_set&nbsp&nbsp</i></b>
<br><b><i> order_set_stop&nbsp&nbsp</i></b>
<br><b><i> order_set_tp&nbsp&nbsp</i></b>
<br><b><i> order_set_trailing_stop&nbsp&nbsp</i></b>
<br><b><i> order_set_expiry&nbsp&nbsp</i></b>
<br><b><i> order_set_units&nbsp&nbsp</i></b>
<br><b><i> order_set_all&nbsp&nbsp</i></b>
<br><b><i> trade&nbsp&nbsp</i></b>
<br><b><i> trade_pair&nbsp&nbsp</i></b>
<br><b><i> trade_close&nbsp&nbsp</i></b>
<br><b><i> trade_close_all&nbsp&nbsp</i></b>
<br><b><i> trade_set&nbsp&nbsp</i></b>
<br><b><i> trade_set_stop&nbsp&nbsp</i></b>
<br><b><i> trade_set_tp&nbsp&nbsp</i></b>
<br><b><i> trade_set_trailing_stop&nbsp&nbsp</i></b>
<br><b><i> trade_set_all&nbsp&nbsp</i></b>
<br><b><i> position&nbsp&nbsp</i></b>
<br><b><i> positions&nbsp&nbsp</i></b>
<br><b><i> position_close&nbsp&nbsp</i></b>
<br><b><i> market&nbsp&nbsp</i></b>
<br><b><i> limit&nbsp&nbsp</i></b>
<br><b><i> stop&nbsp&nbsp</i></b>
<br><b><i> mit&nbsp&nbsp</i></b>
<br><b><i> buy_market&nbsp&nbsp</i></b>
<br><b><i> buy_limit&nbsp&nbsp</i></b>
<br><b><i> buy_stop&nbsp&nbsp</i></b>
<br><b><i> buy_mit&nbsp&nbsp</i></b>
<br><b><i> buy_bullish&nbsp&nbsp</i></b>
<br><b><i> sell_market&nbsp&nbsp</i></b>
<br><b><i> sell_limit&nbsp&nbsp</i></b>
<br><b><i> sell_stop&nbsp&nbsp</i></b>
<br><b><i> sell_mit&nbsp&nbsp</i></b>
<br><b><i> sell_bearish&nbsp&nbsp</i></b>
<br><b><i> price&nbsp&nbsp</i></b>
<br><b><i> prices&nbsp&nbsp</i></b>
<br><b><i> price_time&nbsp&nbsp</i></b>
<br><b><i> candles&nbsp&nbsp</i></b>
<br><b><i> candles_time&nbsp&nbsp</i></b>
<br><b><i> candles_count&nbsp&nbsp</i></b>
<br>
<br>
<hr><pre><b>Function: <i> format_string</i></b>(var)
<br>
<b>Usage:</b>
<br>
		Format a class to html code</pre>
<br>
<hr><pre><b>Function: <i> format</i></b>(var)
<br>
<b>Usage:</b>
<br>
		Format a class to HTML code and echo the output in human readable format</pre>
<br>
<hr><pre><b>Function: <i> setup</i></b>(server=Optional, apiKey=Optional, accountId=Optional)
<br>
<b>Usage:</b>
<br>
		Setup our enviornment variables</pre>
<br>
<hr><pre><b>Function: <i> account</i></b>(accountId)
<br>
<b>Usage:</b>
<br>
		Return the information for $accountId</pre>
<br>
<hr><pre><b>Function: <i> accounts</i></b>()
<br>
<b>Usage:</b>
<br>
		Return an array of the accounts for $username </pre>
<br>
<hr><pre><b>Function: <i> account_id</i></b>(accountName, uName)
<br>
<b>Usage:</b>
<br>
		Return the accountId for $accountName</pre>
<br>
<hr><pre><b>Function: <i> account_named</i></b>(accountName, uName)
<br>
<b>Usage:</b>
<br>
		Return the information for $accountName</pre>
<br>
<hr><pre><b>Function: <i> instruments</i></b>()
<br>
<b>Usage:</b>
<br>
		Return a list of tradeable instruments for $accountId</pre>
<br>
<hr><pre><b>Function: <i> instrument</i></b>(pair)
<br>
<b>Usage:</b>
<br>
		Return instrument for named $pair</pre>
<br>
<hr><pre><b>Function: <i> instrument_pairs</i></b>(currency)
<br>
<b>Usage:</b>
<br>
		Return instruments for that correspond to $currency</pre>
<br>
<hr><pre><b>Function: <i> instrument_name</i></b>(home, away)
<br>
<b>Usage:</b>
<br>
		Return a proper instrument name for two currencies
<br>
			Example: OandaWrap::instrument_name('AUD', 'CHF') returns 'AUD_CHF'
<br>
			Example: OandaWrap::instrument_name('USD', 'EUR') returns 'EUR_USD' </pre>
<br>
<hr><pre><b>Function: <i> instrument_split</i></b>(pair)
<br>
<b>Usage:</b>
<br>
		Split an instrument into two currencies and return an array of them both</pre>
<br>
<hr><pre><b>Function: <i> instrument_pip</i></b>(pair)
<br>
<b>Usage:</b>
<br>
		Return a floating point number declaring the pip size of $pair</pre>
<br>
<hr><pre><b>Function: <i> convert</i></b>(pairHome, pairAway, amount)
<br>
<b>Usage:</b>
<br>
		Convert $amount of $pairHome to $pairAway</pre>
<br>
<hr><pre><b>Function: <i> convert_pair</i></b>(pair, amount, home)
<br>
<b>Usage:</b>
<br>
		Convert $amount of $pair from $home 
<br>
			i.e. OandaWrap::convert_pair('EUR_USD', 500, 'EUR'); Converts 500 EUR to USD
<br>
			i.e. OandaWrap::convert_pair('EUR_USD', 500, 'USD'); Converts 500 USD to EUR</pre>
<br>
<hr><pre><b>Function: <i> calc_pips</i></b>(pair, open, close)
<br>
<b>Usage:</b>
<br>
		Return the pip difference between prices $open and $close for $pair</pre>
<br>
<hr><pre><b>Function: <i> calc_pip_price</i></b>(pair, size, side=1)
<br>
<b>Usage:</b>
<br>
		Return the cost of a single pip of $pair when $size is used</pre>
<br>
<hr><pre><b>Function: <i> nav_account_set</i></b>(accountId)
<br>
<b>Usage:</b>
<br>
		Set our environment variable $account</pre>
<br>
<hr><pre><b>Function: <i> nav_account</i></b>()
<br>
<b>Usage:</b>
<br>
		Return our environment variable account</pre>
<br>
<hr><pre><b>Function: <i> nav_instrument_name</i></b>(pair, index=0)
<br>
<b>Usage:</b>
<br>
		Return the instrument name used to convert currency for the NAV</pre>
<br>
<hr><pre><b>Function: <i> nav_size_percent</i></b>(pair, percent, leverage = 50)
<br>
<b>Usage:</b>
<br>
		Return the value of a percentage of the NAV (Net account value)</pre>
<br>
<hr><pre><b>Function: <i> nav_size_percent_per_pip</i></b>(pair, riskPerPip, leverage = 50)
<br>
<b>Usage:</b>
<br>
		Return the size for $pair that risks $riskPerPip every pip
<br>
			@ maximum 50:1 leverage, risk is 0.5% per pip</pre>
<br>
<hr><pre><b>Function: <i> nav_pnl</i></b>(dollarValue=Optional)
<br>
<b>Usage:</b>
<br>
		Return the pnl for account, if $dollarValue is set TRUE, return in base currency, else as %.</pre>
<br>
<hr><pre><b>Function: <i> transaction</i></b>(transactionId)
<br>
<b>Usage:</b>
<br>
		Get information on a single transaction</pre>
<br>
<hr><pre><b>Function: <i> transactions</i></b>(number=50, pair='all')
<br>
<b>Usage:</b>
<br>
		Return an object with all transactions (max 50)</pre>
<br>
<hr><pre><b>Function: <i> transactions_types</i></b>(types, number=50, pair='all')
<br>
<b>Usage:</b>
<br>
		Return an array with all transactions conforming to one of $types which is an array of strings</pre>
<br>
<hr><pre><b>Function: <i> transactions_type</i></b>(type, number=50, pair='all')
<br>
<b>Usage:</b>
<br>
		Return up to 50 transactions of $type</pre>
<br>
<hr><pre><b>Function: <i> time_seconds</i></b>(time)
<br>
<b>Usage:</b>
<br>
		Convert oanda time from microseconds to seconds</pre>
<br>
<hr><pre><b>Function: <i> gran_seconds</i></b>(gran)
<br>
<b>Usage:</b>
<br>
		Return a the number of seconds per Oandas 'granularity'</pre>
<br>
<hr><pre><b>Function: <i> expiry</i></b>(seconds=5)
<br>
<b>Usage:</b>
<br>
		Return the Oanda compatible timestamp of time() + $seconds</pre>
<br>
<hr><pre><b>Function: <i> expiry_min</i></b>(minutes=5)
<br>
<b>Usage:</b>
<br>
		Return the Oanda compatible timestamo of time() + $minutes</pre>
<br>
<hr><pre><b>Function: <i> expiry_hour</i></b>(hours=1)
<br>
<b>Usage:</b>
<br>
		Return the Oanda compatible timestamp of time() + $hours</pre>
<br>
<hr><pre><b>Function: <i> expiry_day</i></b>(days=1)
<br>
<b>Usage:</b>
<br>
		Return the Oanda compatible timestamp of time() + $days</pre>
<br>
<hr><pre><b>Function: <i> set_stop</i></b>(type, id, price)
<br>
<b>Usage:</b>
<br>
		Set the stopLoss of an order or trade</pre>
<br>
<hr><pre><b>Function: <i> set_tp</i></b>(type, id, price)
<br>
<b>Usage:</b>
<br>
		Set the takeProfit of an order or trade</pre>
<br>
<hr><pre><b>Function: <i> set_trailing_stop</i></b>(type, id, distance)
<br>
<b>Usage:</b>
<br>
		Set the trailingStop of an order or trade</pre>
<br>
<hr><pre><b>Function: <i> order</i></b>(orderId)
<br>
<b>Usage:</b>
<br>
		Return an object with the information about $orderId</pre>
<br>
<hr><pre><b>Function: <i> order_pair</i></b>(pair, number=50)
<br>
<b>Usage:</b>
<br>
		Get an object with all the orders for $pair</pre>
<br>
<hr><pre><b>Function: <i> order_open</i></b>(side, units, pair, type, price=Optional, expiry=Optional, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Open a new order</pre>
<br>
<hr><pre><b>Function: <i> order_close</i></b>(orderId)
<br>
<b>Usage:</b>
<br>
		Close an order by Id</pre>
<br>
<hr><pre><b>Function: <i> order_close_all</i></b>(pair)
<br>
<b>Usage:</b>
<br>
		Close all orders in $pair</pre>
<br>
<hr><pre><b>Function: <i> order_set</i></b>(orderId, options)
<br>
<b>Usage:</b>
<br>
		Modify the parameters of an order</pre>
<br>
<hr><pre><b>Function: <i> order_set_stop</i></b>(id, price)
<br>
<b>Usage:</b>
<br>
		Set the stopLoss of an order</pre>
<br>
<hr><pre><b>Function: <i> order_set_tp</i></b>(id, price)
<br>
<b>Usage:</b>
<br>
		Set the takeProfit of an order</pre>
<br>
<hr><pre><b>Function: <i> order_set_trailing_stop</i></b>(id, distance)
<br>
<b>Usage:</b>
<br>
		Set the trailingStop of an order</pre>
<br>
<hr><pre><b>Function: <i> order_set_expiry</i></b>(id, time)
<br>
<b>Usage:</b>
<br>
		Set the expiry of an order</pre>
<br>
<hr><pre><b>Function: <i> order_set_units</i></b>(id, units)
<br>
<b>Usage:</b>
<br>
		Set the units of an order</pre>
<br>
<hr><pre><b>Function: <i> order_set_all</i></b>(pair, options)
<br>
<b>Usage:</b>
<br>
		Modify all orders on $pair</pre>
<br>
<hr><pre><b>Function: <i> trade</i></b>(tradeId)
<br>
<b>Usage:</b>
<br>
		Return an object containing information on a single pair</pre>
<br>
<hr><pre><b>Function: <i> trade_pair</i></b>(pair, number=50)
<br>
<b>Usage:</b>
<br>
		Return an object with all the trades on $pair</pre>
<br>
<hr><pre><b>Function: <i> trade_close</i></b>(tradeId)
<br>
<b>Usage:</b>
<br>
		Close trade referenced by $tradeId</pre>
<br>
<hr><pre><b>Function: <i> trade_close_all</i></b>(pair)
<br>
<b>Usage:</b>
<br>
		Close all trades on $pair</pre>
<br>
<hr><pre><b>Function: <i> trade_set</i></b>(tradeId, options)
<br>
<b>Usage:</b>
<br>
		Modify attributes of a trade referenced by $tradeId</pre>
<br>
<hr><pre><b>Function: <i> trade_set_stop</i></b>(id, price)
<br>
<b>Usage:</b>
<br>
		Set the stopLoss of a trade</pre>
<br>
<hr><pre><b>Function: <i> trade_set_tp</i></b>(id, price)
<br>
<b>Usage:</b>
<br>
		Set the takeProfit of a trade</pre>
<br>
<hr><pre><b>Function: <i> trade_set_trailing_stop</i></b>(id, distance)
<br>
<b>Usage:</b>
<br>
		Set the trailingStop of a trade</pre>
<br>
<hr><pre><b>Function: <i> trade_set_all</i></b>(pair, options)
<br>
<b>Usage:</b>
<br>
		Modify all trades on $pair</pre>
<br>
<hr><pre><b>Function: <i> position</i></b>(pair)
<br>
<b>Usage:</b>
<br>
		Return an object with the information for a single $pairs position</pre>
<br>
<hr><pre><b>Function: <i> positions</i></b>()
<br>
<b>Usage:</b>
<br>
		Return an object with all the positions for the account</pre>
<br>
<hr><pre><b>Function: <i> position_close</i></b>(pair)
<br>
<b>Usage:</b>
<br>
		Close the position for $pair</pre>
<br>
<hr><pre><b>Function: <i> market</i></b>(side, units, pair, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Open a new @ market order</pre>
<br>
<hr><pre><b>Function: <i> limit</i></b>(side, units, pair, price, expiry, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Open a new limit order</pre>
<br>
<hr><pre><b>Function: <i> stop</i></b>(side, units, pair, price, expiry, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Open a new stop order</pre>
<br>
<hr><pre><b>Function: <i> mit</i></b>(side, units, pair, price, expiry, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Open a new marketIfTouched order</pre>
<br>
<hr><pre><b>Function: <i> buy_market</i></b>(units, pair, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Buy @ market</pre>
<br>
<hr><pre><b>Function: <i> buy_limit</i></b>(units, pair, price, expiry, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Buy limit with expiry</pre>
<br>
<hr><pre><b>Function: <i> buy_stop</i></b>(units, pair, price, expiry, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Buy stop with expiry</pre>
<br>
<hr><pre><b>Function: <i> buy_mit</i></b>(units, pair, price, expiry, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Buy marketIfTouched with expiry</pre>
<br>
<hr><pre><b>Function: <i> buy_bullish</i></b>(pair, risk, stop, leverage=50)
<br>
<b>Usage:</b>
<br>
		Macro: Buy $pair and limit size to equal %NAV loss over $stop pips. Then set stopLoss</pre>
<br>
<hr><pre><b>Function: <i> sell_market</i></b>(units, pair, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Sell @ market</pre>
<br>
<hr><pre><b>Function: <i> sell_limit</i></b>(units, pair, price, expiry, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Sell limit with expiry</pre>
<br>
<hr><pre><b>Function: <i> sell_stop</i></b>(units, pair, price, expiry, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Sell stop with expiry</pre>
<br>
<hr><pre><b>Function: <i> sell_mit</i></b>(units, pair, price, expiry, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Sell marketIfTouched with expiry</pre>
<br>
<hr><pre><b>Function: <i> sell_bearish</i></b>(pair, risk, stop, leverage=50)
<br>
<b>Usage:</b>
<br>
		Macro: Sell $pair and limit size to equal %NAV loss over $stop pips. Then set stopLoss</pre>
<br>
<hr><pre><b>Function: <i> price</i></b>(pair)
<br>
<b>Usage:</b>
<br>
		Wrapper, return the current price of '$pair'</pre>
<br>
<hr><pre><b>Function: <i> prices</i></b>(pairs)
<br>
<b>Usage:</b>
<br>
		Return an array {prices} for {$pairs}</pre>
<br>
<hr><pre><b>Function: <i> price_time</i></b>(pair, date)
<br>
<b>Usage:</b>
<br>
		Wrapper, return the price of '$pair' at $date which is a string such as "20:15 5th november 2012"</pre>
<br>
<hr><pre><b>Function: <i> candles</i></b>(pair, gran, rest = Optional)
<br>
<b>Usage:</b>
<br>
		Return a number of candles for '$pair'</pre>
<br>
<hr><pre><b>Function: <i> candles_time</i></b>(pair, gran, start, end)
<br>
<b>Usage:</b>
<br>
		Return candles for '$pair' between $start and $end</pre>
<br>
<hr><pre><b>Function: <i> candles_count</i></b>(pair, gran, count)
<br>
<b>Usage:</b>
<br>
		Return $count of the previous candles for '$pair'</pre></body></html>